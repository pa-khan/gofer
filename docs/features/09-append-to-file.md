# 09. Append to File

## –ö–∞—Ç–µ–≥–æ—Ä–∏—è
–¢–æ—á–µ—á–Ω–∞—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è (Write Tools)

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
üü° **P2** (–ü–æ–ª–µ–∑–Ω–æ)

## –û—Ü–µ–Ω–∫–∞ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏ –¥–ª—è AI
‚≠ê‚≠ê‚≠ê‚≠ê (4/5)

## –û–ø–∏—Å–∞–Ω–∏–µ
–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ.

## –ü—Ä–æ–±–ª–µ–º–∞
AI —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏: –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ `.env`, –Ω–æ–≤—ã–π —Ä–æ—É—Ç –≤ —Ä–æ—É—Ç–µ—Ä, –Ω–æ–≤—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–æ–Ω–µ—Ü –º–æ–¥—É–ª—è. –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞ —Ä–∞–¥–∏ —ç—Ç–æ–≥–æ ‚Äî –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏ –æ–ø–∞—Å–Ω–æ.

## –°–∏–≥–Ω–∞—Ç—É—Ä–∞
```
append_to_file(path, content, newline_before) -> AppendResult
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
- `path` (string) ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
- `content` (string) ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- `newline_before` (boolean, optional) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –ø–µ—Ä–µ–¥ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true)

## –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
```json
{
  "path": ".env",
  "status": "appended",
  "bytes_added": 45,
  "lines_added": 2,
  "new_total_lines": 28
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
```
AI: append_to_file(".env", content="NEW_API_KEY=abc123\n")
Result: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤ .env
```

### –ü—Ä–∏–º–µ—Ä 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –º–æ–¥—É–ª—å
```
AI: append_to_file(
  "src/utils.rs", 
  content="\npub fn new_helper() {\n    // implementation\n}\n"
)
Result: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
```

### –ü—Ä–∏–º–µ—Ä 3: –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–æ–≥–∞
```
AI: append_to_file("debug.log", content="[ERROR] Connection failed\n", newline_before=false)
Result: –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –≤ –ª–æ–≥ –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞
```

### –ü—Ä–∏–º–µ—Ä 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–∞
```
AI: append_to_file(
  "src/router.rs",
  content='    .route("/api/new", post(new_handler))\n'
)
Result: –¥–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π route –≤ –∫–æ–Ω–µ—Ü —Ü–µ–ø–æ—á–∫–∏
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: AI –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–µ—Å—å —Ñ–∞–π–ª –∑–∞–Ω–æ–≤–æ
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: —Å–∞–º–∞—è –ø—Ä–æ—Å—Ç–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

## –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- **–ü–æ–∑–∏—Ü–∏—è**: –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω–µ—Ü (–Ω–µ–ª—å–∑—è –≤—Å—Ç–∞–≤–∏—Ç—å –≤ —Å–µ—Ä–µ–¥–∏–Ω—É)
- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: AI –¥–æ–ª–∂–µ–Ω —Å–∞–º –¥–æ–±–∞–≤–ª—è—Ç—å –Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:
- `.env`, `.gitignore` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –õ–æ–≥–æ–≤
- –†–æ—É—Ç–µ—Ä–æ–≤ (–∫–æ–≥–¥–∞ —Ä–æ—É—Ç—ã –æ–±—ä—è–≤–ª—è—é—Ç—Å—è —Ü–µ–ø–æ—á–∫–æ–π)
- –ú–æ–¥—É–ª–µ–π (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –∫–æ–Ω–µ—Ü)

–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:
- –î–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤ (–æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞) ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `patch_file`
- –í—Å—Ç–∞–≤–∫–∏ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É —Ñ–∞–π–ª–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `patch_file`

## –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–ù–∏–∑–∫–∞—è (1 –¥–µ–Ω—å)

## –°—Ç–∞—Ç—É—Å –≤ gofer
‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- filesystem API

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
- `patch_file` ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ —Å–µ—Ä–µ–¥–∏–Ω—É
- `write_file` ‚Äî –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å (–Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ)

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `patch_file` ‚Äî –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ
- `write_file` ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
