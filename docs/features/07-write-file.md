# 07. Write File

## –ö–∞—Ç–µ–≥–æ—Ä–∏—è
–¢–æ—á–µ—á–Ω–∞—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è (Write Tools)

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
üü° **P2** (–ë–∞–∑–æ–≤–∞—è, –Ω–æ –æ–ø–∞—Å–Ω–∞—è)

## –û—Ü–µ–Ω–∫–∞ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏ –¥–ª—è AI
‚≠ê‚≠ê‚≠ê (3/5)

## –û–ø–∏—Å–∞–Ω–∏–µ
–ü–æ–ª–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ.

## –ü—Ä–æ–±–ª–µ–º–∞
AI –Ω—É–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ. –ù–æ —ç—Ç–æ –æ–ø–∞—Å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è ‚Äî AI –º–æ–∂–µ—Ç —Å–ª—É—á–∞–π–Ω–æ –ø–æ—Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ.

## –°–∏–≥–Ω–∞—Ç—É—Ä–∞
```
write_file(path, content, create_dirs) -> WriteResult
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
- `path` (string) ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
- `content` (string) ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
- `create_dirs` (boolean, optional) ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–∞–Ω–∞–ª–æ–≥ `mkdir -p`)

## –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
```json
{
  "path": "src/new_module.rs",
  "action": "created",  // "created" | "overwritten"
  "size": "2.4 KB",
  "lines": 85,
  "backup_uuid": "abc123"  // UUID backup'–∞ –≤ trash (–µ—Å–ª–∏ —Ñ–∞–π–ª –±—ã–ª –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω)
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
```
AI: write_file("src/utils/helper.rs", content="pub fn helper() { ... }")
Result: —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Ñ–∞–π–ª
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞
```
AI: write_file("src/main.rs", content="fn main() { ... }")
Warning: —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
AI: (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é)
Result: —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è ‚Üí trash, –∑–∞–ø–∏—Å–∞–Ω–∞ –Ω–æ–≤–∞—è
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: —Å–∞–º–∞—è –ø—Ä–æ—Å—Ç–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏
- **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤**: –±–∞–∑–æ–≤–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å

## –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- **–û–ø–∞—Å–Ω–æ—Å—Ç—å**: –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
- **–†–∞—Å—Ö–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤**: AI –¥–æ–ª–∂–µ–Ω —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Ñ–∞–π–ª —Ü–µ–ª–∏–∫–æ–º
- **–†–∏—Å–∫ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π**: –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ AI –º–æ–∂–µ—Ç –æ—à–∏–±–∏—Ç—å—Å—è

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è **–Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤**
- –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `patch_file`
- –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞—Ç—å backup –≤ trash –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏

## –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–ù–∏–∑–∫–∞—è (1 –¥–µ–Ω—å)

## –°—Ç–∞—Ç—É—Å –≤ gofer
‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–π MCP)

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- filesystem API
- `delete_safe` (–¥–ª—è backup –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏)

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
- `patch_file` ‚Äî –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤ (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
- –í–Ω–µ—à–Ω–∏–π filesystem MCP

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `patch_file` ‚Äî —Ç–æ—á–µ—á–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
- `delete_safe` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- `append_to_file` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü
