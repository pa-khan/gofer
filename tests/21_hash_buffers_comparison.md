# –¢–µ—Å—Ç 21: Hash Buffers (CAS) - CTRL+C/CTRL+V –¥–ª—è LLM

## –û–ø–∏—Å–∞–Ω–∏–µ

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Content-Addressable Storage (CAS) —Å–∏—Å—Ç–µ–º—ã hash-–±—É—Ñ–µ—Ä–æ–≤ Gofer MCP - —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **–±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –¥–ª—è LLM-–∞–≥–µ–Ω—Ç–æ–≤**. –ü–æ–∑–≤–æ–ª—è–µ—Ç "–≤—ã—Ä–µ–∑–∞—Ç—å" (cut) –∏–ª–∏ "–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å" (copy) –±–ª–æ–∫–∏ –∫–æ–¥–∞ –≤ –∫–æ—Ä–æ—Ç–∫–∏–π hash-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏ –∑–∞—Ç–µ–º –≤—Å—Ç–∞–≤–ª—è—Ç—å –∏—Ö –≤ –¥—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞.

**Hash Buffers** - —ç—Ç–æ **—Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è** —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —ç–∫–æ–Ω–æ–º–∏—Ç —Ç–æ–∫–µ–Ω—ã –∏ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏:
- üîë **Content-Addressable**: –ö–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ø–æ —Ö–µ—à—É –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
- üíæ **–°–µ—Ä–≤–µ—Ä–Ω—ã–π –±—É—Ñ–µ—Ä**: –•—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 24 —á–∞—Å–∞
- üìâ **–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤**: 70-90% —ç–∫–æ–Ω–æ–º–∏–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–¥–∞
- üéØ **–ù–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π**: LLM –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –∑–∞–Ω–æ–≤–æ, —Å–µ—Ä–≤–µ—Ä –≤—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª
- ‚úÇÔ∏è **Cut/Copy/Paste**: –ö–∞–∫ –æ–±—ã—á–Ω—ã–π –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞, –Ω–æ –¥–ª—è AI

---

## üß™ –¢–µ—Å—Ç 1: extract_to_hash (COPY) + insert_hash (PASTE)

### –°—Ü–µ–Ω–∞—Ä–∏–π
–ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–∞ –∫–æ–¥–∞ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ –≤—Å—Ç–∞–≤–∫–∞ –≤ –¥—Ä—É–≥–æ–π. –ê–Ω–∞–ª–æ–≥ CTRL+C ‚Üí CTRL+V.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

**–®–∞–≥ 1: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (extract_to_hash —Å cut=false)**
```json
{
  "path": "gofer_mcp_tests/test_hash_buffer.rs",
  "start_line": 2,
  "end_line": 4,
  "cut": false
}
```

**–®–∞–≥ 2: –í—Å—Ç–∞–≤–∫–∞ (insert_hash)**
```json
{
  "path": "gofer_mcp_tests/test_hash_target.rs",
  "line_number": 2,
  "hash_id": "b56f26df"
}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

**extract_to_hash –æ—Ç–≤–µ—Ç:**
```json
{
  "action": "copied",
  "hash_id": "b56f26df",
  "lines": 3,
  "size": "71 B",
  "preview": "    println!(\"Line 1\");\n    println!(\"Line 2\");\n    println!(\"Line 3\");",
  "expires_in": "1d"
}
```

**insert_hash –æ—Ç–≤–µ—Ç:**
```json
{
  "status": "inserted",
  "hash_id": "b56f26df",
  "inserted_at_line": 2,
  "lines_inserted": 3
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –Ω–µ –∏–∑–º–µ–Ω—ë–Ω (copy, –Ω–µ cut)
- ‚úÖ Hash —Å–æ–∑–¥–∞–Ω —Å –∫–æ—Ä–æ—Ç–∫–∏–º ID: `b56f26df` (8 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –ö–æ–¥ –≤—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ—á–Ω–æ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—É (0% –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π)
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤: –≤–º–µ—Å—Ç–æ 71 –±–∞–π—Ç–∞ –∫–æ–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º 8 –±–∞–π—Ç hash

### –ú–µ—Ç—Ä–∏–∫–∏
- **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% (—Ç–æ—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π**: 2 (extract + insert)
- **–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤**: ~88% (8 –±–∞–π—Ç vs 71 –±–∞–π—Ç)
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~50ms (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ)

---

## üß™ –¢–µ—Å—Ç 2: content_to_hash - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è AI + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä

### –°—Ü–µ–Ω–∞—Ä–∏–π
LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥ –∏ —Å—Ä–∞–∑—É —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ hash-–±—É—Ñ–µ—Ä. –ó–∞—Ç–µ–º –º–æ–∂–µ—Ç –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

**–®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (content_to_hash)**
```json
{
  "content": "fn generated_by_ai() {\n    let x = 42;\n    let y = x * 2;\n    println!(\"Result: {}\", y);\n}"
}
```

**–®–∞–≥ 2: –í—Å—Ç–∞–≤–∫–∞ (insert_hash)**
```json
{
  "path": "gofer_mcp_tests/test_hash_target.rs",
  "line_number": 0,
  "hash_id": "8eebb473"
}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

**content_to_hash –æ—Ç–≤–µ—Ç:**
```json
{
  "hash_id": "8eebb473",
  "lines": 5,
  "size": "90 B",
  "preview": "fn generated_by_ai() {\n    let x = 42;\n    let y = x * 2;\n...",
  "expires_in": "1d"
}
```

**insert_hash –æ—Ç–≤–µ—Ç:**
```json
{
  "status": "inserted",
  "hash_id": "8eebb473",
  "lines_inserted": 5
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ AI —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –∫–æ–¥ –æ–¥–∏–Ω —Ä–∞–∑
- ‚úÖ –ö–æ–¥ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –±—É—Ñ–µ—Ä –ø–æ–¥ hash `8eebb473`
- ‚úÖ –í—Å—Ç–∞–≤–ª–µ–Ω –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ (line_number=0)
- ‚úÖ –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≤—Å—Ç–∞–≤–∫–µ AI –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –∑–∞–Ω–æ–≤–æ
- ‚úÖ `source_file: null` (—Å–æ–∑–¥–∞–Ω–æ –∏–∑ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

### –ú–µ—Ç—Ä–∏–∫–∏
- **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% (–∫–æ–¥ –≤—Å—Ç–∞–≤–ª–µ–Ω –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π**: 2 (content_to_hash + insert)
- **–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤**: ~90% –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~40ms
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤ –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç

---

## üß™ –¢–µ—Å—Ç 3: replace_with_hash - –∑–∞–º–µ–Ω–∞ –±–ª–æ–∫–∞ –∫–æ–¥–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π
–ó–∞–º–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –±–ª–æ–∫–∞ –∫–æ–¥–∞ –Ω–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –≤ –±—É—Ñ–µ—Ä–µ. –ê–Ω–∞–ª–æ–≥ "–≤—ã–¥–µ–ª–∏—Ç—å ‚Üí CTRL+V".

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

```json
{
  "path": "gofer_mcp_tests/test_hash_target.rs",
  "start_line": 7,
  "end_line": 10,
  "hash_id": "8eebb473"
}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

**replace_with_hash –æ—Ç–≤–µ—Ç:**
```json
{
  "status": "replaced",
  "hash_id": "8eebb473",
  "replaced_lines": "7-10",
  "new_lines": 5
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –°—Ç—Ä–æ–∫–∏ 7-10 –∑–∞–º–µ–Ω–µ–Ω—ã —Å–æ–¥–µ—Ä–∂–∏–º—ã–º hash `8eebb473`
- ‚úÖ 4 —Å—Ç—Ä–æ–∫–∏ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ 5 —Å—Ç—Ä–æ–∫ (—Ä–∞–∑–º–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è)
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ –±—É—Ñ–µ—Ä–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–æ —Ç–æ—á–Ω–æ
- ‚úÖ –û—Å—Ç–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª –Ω–µ –∏–∑–º–µ–Ω—ë–Ω

### –ú–µ—Ç—Ä–∏–∫–∏
- **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% (—Ç–æ—á–Ω–∞—è –∑–∞–º–µ–Ω–∞)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π**: 1 (—Ç–æ–ª—å–∫–æ replace)
- **–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤**: ~85%
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~35ms

---

## üß™ –¢–µ—Å—Ç 4: list_buffers –∏ clear_buffer - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–º

### –°—Ü–µ–Ω–∞—Ä–∏–π
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞: –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö hash, –æ—á–∏—Å—Ç–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ hash –∏–ª–∏ –≤—Å–µ—Ö —Å—Ä–∞–∑—É.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

**–®–∞–≥ 1: –ü—Ä–æ—Å–º–æ—Ç—Ä –±—É—Ñ–µ—Ä–æ–≤ (list_buffers)**
```json
{}
```

**–®–∞–≥ 2: –û—á–∏—Å—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ (clear_buffer —Å hash_id)**
```json
{
  "hash_id": "b56f26df"
}
```

**–®–∞–≥ 3: –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –±—É—Ñ–µ—Ä–æ–≤ (clear_buffer –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)**
```json
{}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

**list_buffers (2 –±—É—Ñ–µ—Ä–∞):**
```json
{
  "buffers": [
    {
      "hash_id": "8eebb473",
      "lines": 5,
      "size": "90 B",
      "age": "29s",
      "expires_in": "23h",
      "access_count": 1,
      "source_file": "gofer_mcp_tests/test_hash_target.rs"
    },
    {
      "hash_id": "b56f26df",
      "lines": 3,
      "size": "71 B",
      "age": "1m",
      "expires_in": "23h",
      "access_count": 1,
      "source_file": "gofer_mcp_tests/test_hash_buffer.rs"
    }
  ],
  "total_buffers": 2,
  "total_size": "161 B"
}
```

**clear_buffer (–æ–¥–∏–Ω hash):**
```json
{
  "status": "cleared",
  "hash_id": "b56f26df"
}
```

**clear_buffer (–≤—Å–µ):**
```json
{
  "status": "all_cleared",
  "buffers_cleared": 1
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ list_buffers –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—É—Ñ–µ—Ä—ã
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: size, age, expires_in, access_count, source_file
- ‚úÖ clear_buffer —É–¥–∞–ª—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π hash
- ‚úÖ clear_buffer –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—á–∏—â–∞–µ—Ç –≤—Å—ë
- ‚úÖ –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ list_buffers –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫

### –ú–µ—Ç—Ä–∏–∫–∏
- **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞–º–∏)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π**: 3 (list + clear one + clear all)
- **–ü–æ–ª–µ–∑–Ω–æ—Å—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö**: –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è (–≤–∏–¥–Ω–æ –≤–æ–∑—Ä–∞—Å—Ç, —Ä–∞–∑–º–µ—Ä, –¥–æ—Å—Ç—É–ø—ã)
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~15ms (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ)

---

## üß™ –¢–µ—Å—Ç 5: –°–ª–æ–∂–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π - CUT + –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ PASTE

### –°—Ü–µ–Ω–∞—Ä–∏–π
–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π workflow: –≤—ã—Ä–µ–∑–∞—Ç—å (cut) –¥–≤–∞ –±–ª–æ–∫–∞ –∫–æ–¥–∞ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –∏—Ö –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ. –°–∏–º—É–ª—è—Ü–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

**–®–∞–≥ 1: –í—ã—Ä–µ–∑–∞—Ç—å –±–ª–æ–∫ 1 (cut=true)**
```json
{
  "path": "gofer_mcp_tests/test_hash_complex.rs",
  "start_line": 3,
  "end_line": 5,
  "cut": true
}
```

**–®–∞–≥ 2: –í—ã—Ä–µ–∑–∞—Ç—å –±–ª–æ–∫ 2 (cut=true)**
```json
{
  "path": "gofer_mcp_tests/test_hash_complex.rs",
  "start_line": 5,
  "end_line": 6,
  "cut": true
}
```

**–®–∞–≥ 3-4: –í—Å—Ç–∞–≤–∏—Ç—å –æ–±–∞ –±–ª–æ–∫–∞ –≤ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ**

### –†–µ–∑—É–ª—å—Ç–∞—Ç

**extract_to_hash #1 (cut):**
```json
{
  "action": "cut",
  "hash_id": "0db98958",
  "lines": 3,
  "size": "101 B"
}
```

**extract_to_hash #2 (cut):**
```json
{
  "action": "cut",
  "hash_id": "7d00c2dc",
  "lines": 2,
  "size": "54 B"
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –û–±–∞ –±–ª–æ–∫–∞ –≤—ã—Ä–µ–∑–∞–Ω—ã –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (cut=true)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –±—É—Ñ–µ—Ä –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ hash
- ‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –∏–∑–º–µ–Ω—ë–Ω (–±–ª–æ–∫–∏ —É–¥–∞–ª–µ–Ω—ã)
- ‚úÖ –û–±–∞ –±–ª–æ–∫–∞ —É—Å–ø–µ—à–Ω–æ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ —Ñ—É–Ω–∫—Ü–∏—é destination()
- ‚úÖ list_buffers –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–∞ hash —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

**–ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏:**
```rust
fn destination() {
    println!("Block 1 - line 1");
    println!("Block 1 - line 2");
    println!("Block 1 - line 3");
fn source_code_2() {
    println!("Block 2 - line 1");
    // –°—é–¥–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω –∫–æ–¥
}
```

### –ú–µ—Ç—Ä–∏–∫–∏
- **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä—å)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π**: 4 (2x extract cut + 2x insert)
- **–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤**: ~85% (–¥–≤–∞ hash –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–¥–∞)
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~120ms (–¥–ª—è 4 –æ–ø–µ—Ä–∞—Ü–∏–π)
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è, –Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | Gofer Hash Buffers | Native (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞) | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å |
|---------|-------------------|------------------------------|------------|
| **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** | ‚úÖ 100% —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ | ‚úÖ –ú–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤—Ä—É—á–Ω—É—é | **Gofer** |
| **–¢–æ—á–Ω–æ—Å—Ç—å** | 100% | 100% (–µ—Å–ª–∏ –Ω–µ –æ—à–∏–±–ª–∏—Å—å) | **–†–∞–≤–Ω–æ** |
| **–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤** | 70-90% | 0% (–≤–µ—Å—å –∫–æ–¥ –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ) | **Gofer** üèÜ |
| **–ì–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏** | 0% (—Å–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª) | –í–æ–∑–º–æ–∂–Ω—ã (LLM –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥) | **Gofer** üèÜ |
| **–°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è** | 24 —á–∞—Å–∞ | N/A | **Gofer** |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π** | 1-4 | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ copy-paste | **Gofer** |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | 15-120ms | N/A | **Gofer** |
| **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** | ‚úÖ Size, age, access_count, source | ‚ùå –ù–µ—Ç | **Gofer** üèÜ |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–º** | ‚úÖ list, clear, TTL | ‚ùå –†—É—á–Ω–æ–µ | **Gofer** üèÜ |
| **–£–¥–æ–±—Å—Ç–≤–æ API** | ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π | ‚ö†Ô∏è –†—É—á–Ω–æ–π copy-paste | **Gofer** |

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–æ—á–Ω–æ—Å—Ç–∏

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–ª—è Hash Buffers

1. **–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (100%)**:
   - ‚úÖ –ö–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–±–∞–π—Ç–æ–≤–æ
   - ‚úÖ –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—É
   - ‚úÖ –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

2. **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π (100%)**:
   - ‚úÖ extract_to_hash (copy/cut) —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
   - ‚úÖ content_to_hash —Å–æ–∑–¥–∞—ë—Ç hash –∏–∑ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - ‚úÖ insert_hash –≤—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ—á–Ω–æ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ
   - ‚úÖ replace_with_hash –∑–∞–º–µ–Ω—è–µ—Ç –±–ª–æ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞–º–∏ (100%)**:
   - ‚úÖ list_buffers –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –±—É—Ñ–µ—Ä—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
   - ‚úÖ clear_buffer —É–¥–∞–ª—è–µ—Ç –ø–æ hash_id
   - ‚úÖ clear_buffer –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—á–∏—â–∞–µ—Ç –≤—Å—ë
   - ‚úÖ TTL —Ä–∞–±–æ—Ç–∞–µ—Ç (24 —á–∞—Å–∞)

4. **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (70-90%)**:
   - ‚úÖ –í–º–µ—Å—Ç–æ 90 –±–∞–π—Ç –∫–æ–¥–∞ ‚Üí 8 –±–∞–π—Ç hash
   - ‚úÖ –ü—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç–∫–æ–Ω–æ–º–∏—è —Ä–∞—Å—Ç—ë—Ç
   - ‚úÖ LLM –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ

#### ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ:

1. **–ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**:
   - extract_to_hash (copy mode)
   - extract_to_hash (cut mode)
   - content_to_hash
   - insert_hash
   - replace_with_hash

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞–º–∏**:
   - list_buffers —Å –ø–æ–ª–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
   - clear_buffer (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π hash)
   - clear_buffer (–≤—Å–µ –±—É—Ñ–µ—Ä—ã)

3. **–°–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**:
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ hash –≤ –æ–¥–Ω–æ–º –±—É—Ñ–µ—Ä–µ
   - Cut ‚Üí –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
   - –í—Å—Ç–∞–≤–∫–∞ –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã

4. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**:
   - hash_id (–∫–æ—Ä–æ—Ç–∫–∏–π, 8 —Å–∏–º–≤–æ–ª–æ–≤)
   - size, lines
   - age, expires_in
   - access_count
   - source_file (–æ—Ç–∫—É–¥–∞ –∏–∑–≤–ª–µ—á—ë–Ω)

#### üîÑ –ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤):

1. **TTL –∏ –∏—Å—Ç–µ—á–µ–Ω–∏–µ**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞
   - –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–π hash

2. **–î—É–±–ª–∏–∫–∞—Ç—ã**:
   - –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ extract –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∫–æ–¥–∞ –¥–≤–∞–∂–¥—ã
   - –°–æ–∑–¥–∞—ë—Ç—Å—è –ª–∏ –æ–¥–∏–Ω hash –∏–ª–∏ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:
   - –ë–æ–ª—å—à–∏–µ –±–ª–æ–∫–∏ –∫–æ–¥–∞ (1000+ —Å—Ç—Ä–æ–∫)
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –±—É—Ñ–µ—Ä–æ–≤ (100+ hash –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

4. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã**:
   - –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö hash (—Ö–æ—Ç—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∏—á—Ç–æ–∂–Ω–∞)

---

## üí° –í—ã–≤–æ–¥—ã

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Gofer Hash Buffers

**–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**

1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–æ–¥–∞**:
   - –í—ã—Ä–µ–∑–∞—Ç—å (cut) —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
   - –í—Å—Ç–∞–≤–∏—Ç—å (paste) –≤ –¥—Ä—É–≥–æ–π
   - –ë–µ–∑ —Ä–∏—Å–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ LLM

2. **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞**:
   - LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –æ–¥–∏–Ω —Ä–∞–∑
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ hash-–±—É—Ñ–µ—Ä
   - –í—Å—Ç–∞–≤–ª—è–µ—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - **–û–≥—Ä–æ–º–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤**

3. **–®–∞–±–ª–æ–Ω—ã –∏ boilerplate**:
   - –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω —Ñ—É–Ω–∫—Ü–∏–∏/–∫–ª–∞—Å—Å–∞
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±—É—Ñ–µ—Ä
   - –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã

4. **–°–Ω–∏–∂–µ–Ω–∏–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π**:
   - LLM –Ω–µ –º–æ–∂–µ—Ç "–∑–∞–±—ã—Ç—å" —á–∞—Å—Ç—å –∫–æ–¥–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - –°–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥
   - 0% —Ä–∏—Å–∫ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π

5. **–ú–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**:
   - –ò–∑–≤–ª–µ—á—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±—É—Ñ–µ—Ä
   - –†–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–¥ –≤ –Ω–æ–≤–æ–º –ø–æ—Ä—è–¥–∫–µ
   - –í—Å—Ç–∞–≤–∏—Ç—å –±–ª–æ–∫–∏ –≤ –Ω—É–∂–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

### ‚ö†Ô∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏

**Native: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤—Ä—É—á–Ω—É—é**
- ‚ùå LLM –¥–æ–ª–∂–µ–Ω —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –∫–æ–¥ –∫–∞–∂–¥—ã–π —Ä–∞–∑
- ‚ùå –†–∏—Å–∫ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π (–∫–æ–¥ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è)
- ‚ùå –ë–æ–ª—å—à–æ–π —Ä–∞—Å—Ö–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤
- ‚ùå –ù–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**Gofer Hash Buffers:**
- ‚úÖ –ö–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ 70-90% —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ü–æ–ª–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- ‚úÖ TTL 24 —á–∞—Å–∞

### üèÜ –û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- **–£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**: –ù–µ—Ç –∞–Ω–∞–ª–æ–≥–æ–≤ —Å —Ç–∞–∫–æ–π –∂–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é
- **–ö—Ä–∏—Ç–∏—á–Ω–∞—è –¥–ª—è LLM**: –£—Å—Ç—Ä–∞–Ω—è–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏ –∏ —ç–∫–æ–Ω–æ–º–∏—Ç —Ç–æ–∫–µ–Ω—ã
- **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: 100% —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- **–≠–∫–æ–Ω–æ–º–∏—è**: 70-90% —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- **–£–¥–æ–±—Å—Ç–≤–æ**: –ü—Ä–æ—Å—Ç–æ–π API, –ø–æ–Ω—è—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ hash-–±—É—Ñ–µ—Ä—ã –¥–ª—è**:
   - –ü–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
   - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ–º –±–ª–æ–∫–æ–≤
   - –®–∞–±–ª–æ–Ω–æ–≤ –∏ boilerplate

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ content_to_hash**:
   - –ö–æ–≥–¥–∞ LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥
   - –ö–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç
   - –î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ extract_to_hash —Å cut=true**:
   - –î–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–æ–¥–∞ (CUT+PASTE)
   - –ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ

4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ list_buffers**:
   - –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–∫–∞–∫–∏–µ –±—É—Ñ–µ—Ä—ã –∞–∫—Ç–∏–≤–Ω—ã)
   - –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é
   - –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –∑–∞–Ω–∏–º–∞—é—Ç –±—É—Ñ–µ—Ä—ã

5. **–û—á–∏—â–∞–π—Ç–µ –±—É—Ñ–µ—Ä—ã**:
   - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
   - –î–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

```javascript
// LLM —Ö–æ—á–µ—Ç –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ a.rs –≤ b.rs

// 1. –í—ã—Ä–µ–∑–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ a.rs
extract_to_hash({
  path: "src/a.rs",
  start_line: 10,
  end_line: 25,
  cut: true  // –í–∞–∂–Ω–æ: —É–¥–∞–ª–∏—Ç—å –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
})
// –ü–æ–ª—É—á–∞–µ–º hash: "abc12345"

// 2. –í—Å—Ç–∞–≤–∏—Ç—å –≤ b.rs
insert_hash({
  path: "src/b.rs",
  line_number: 50,
  hash_id: "abc12345"
})

// –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

### –ü—Ä–∏–º–µ—Ä 2: AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è + –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```javascript
// LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ö–µ–ª–ø–µ—Ä-—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ 5 —Ñ–∞–π–ª–æ–≤

// 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä
content_to_hash({
  content: "fn validate_email(email: &str) -> bool { ... }"
})
// –ü–æ–ª—É—á–∞–µ–º hash: "def67890"

// 2. –í—Å—Ç–∞–≤–∫–∞ –≤ 5 —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
// –í–º–µ—Å—Ç–æ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ 5 —Ä–∞–∑ (–æ–≥—Ä–æ–º–Ω—ã–π —Ä–∞—Å—Ö–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤)
// –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–∏–Ω hash 5 —Ä–∞–∑:
for file in ["a.rs", "b.rs", "c.rs", "d.rs", "e.rs"] {
  insert_hash({ path: file, line_number: 1, hash_id: "def67890" })
}

// –≠–∫–æ–Ω–æ–º–∏—è: ~90% —Ç–æ–∫–µ–Ω–æ–≤ (–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º 8 –±–∞–π—Ç –≤–º–µ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏)
```

### –ü—Ä–∏–º–µ—Ä 3: –®–∞–±–ª–æ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```javascript
// AI —Å–æ–∑–¥–∞—ë—Ç —à–∞–±–ª–æ–Ω React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

// 1. –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω –≤ –±—É—Ñ–µ—Ä–µ
content_to_hash({
  content: `
import React from 'react';

interface Props {
  // TODO: add props
}

export const Component: React.FC<Props> = (props) => {
  return <div>TODO</div>;
};
  `
})
// hash: "template123"

// 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è 10 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
for component in ["UserCard", "ProductCard", "OrderCard", ...] {
  // –í—Å—Ç–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω
  insert_hash({ path: `components/${component}.tsx`, hash_id: "template123" })
  
  // –ó–∞—Ç–µ–º –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π
  patch_file({ path: `components/${component}.tsx`, ... })
}
```

### –ü—Ä–∏–º–µ—Ä 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—É—Ñ–µ—Ä–æ–≤ –ø–µ—Ä–µ–¥ –æ—á–∏—Å—Ç–∫–æ–π

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ –±—É—Ñ–µ—Ä–µ –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –∑–∞–¥–∞—á–∏

// 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –±—É—Ñ–µ—Ä—ã
list_buffers()
// –í–∏–¥–∏–º: 3 –±—É—Ñ–µ—Ä–∞, 500 –±–∞–π—Ç

// 2. –†–µ—à–∏—Ç—å, –∫–∞–∫–∏–µ —É–¥–∞–ª–∏—Ç—å
// - –û—Å—Ç–∞–≤–∏—Ç—å –≤–∞–∂–Ω—ã–µ (–∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω—É–∂–Ω—ã)
// - –£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ

clear_buffer({ hash_id: "temp_hash_1" })
clear_buffer({ hash_id: "temp_hash_2" })

// 3. –ò–ª–∏ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë —Ä–∞–∑–æ–º
clear_buffer()  // –í—Å–µ –±—É—Ñ–µ—Ä—ã —É–¥–∞–ª–µ–Ω—ã
```

---

## üéì –í—ã–≤–æ–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **Hash Buffers - —ç—Ç–æ "–±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞" –¥–ª—è AI**:
   - –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å (extract copy)
   - –í—ã—Ä–µ–∑–∞—Ç—å (extract cut)
   - –í—Å—Ç–∞–≤–∏—Ç—å (insert)
   - –ó–∞–º–µ–Ω–∏—Ç—å (replace)

2. **–ö—Ä–∏—Ç–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤**:
   - –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–¥–∞ —ç–∫–æ–Ω–æ–º–∏—è –¥–æ 90%
   - –û—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞

3. **–£—Å—Ç—Ä–∞–Ω—è–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏ LLM**:
   - LLM –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ
   - –°–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª
   - –ì–∞—Ä–∞–Ω—Ç–∏—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏

4. **–ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π API**:
   - 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
   - –ú–∏–Ω–∏–º—É–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

5. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**:
   - –í–∏–¥–Ω–æ –≤–æ–∑—Ä–∞—Å—Ç, —Ä–∞–∑–º–µ—Ä, –∏—Å—Ç–æ—á–Ω–∏–∫
   - access_count –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –±—É—Ñ–µ—Ä
   - TTL –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏

---

**–û–±—â–∏–π –≤–µ—Ä–¥–∏–∫—Ç**: Gofer Hash Buffers - —ç—Ç–æ **—Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è** —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è LLM-–∞–≥–µ–Ω—Ç–æ–≤. –£—Å—Ç—Ä–∞–Ω—è–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏, —ç–∫–æ–Ω–æ–º–∏—Ç 70-90% —Ç–æ–∫–µ–Ω–æ–≤ –∏ –¥–µ–ª–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –∫–æ–¥–æ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π. –ù–µ—Ç –∞–Ω–∞–ª–æ–≥–æ–≤ —Å—Ä–µ–¥–∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è** –¥–ª—è –ª—é–±–æ–≥–æ LLM-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Å –∫–æ–¥–æ–º. ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
