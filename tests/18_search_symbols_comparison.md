# –¢–µ—Å—Ç 18: search_symbols (Gofer MCP) vs Grep –ü–æ–∏—Å–∫ –°–∏–º–≤–æ–ª–æ–≤ (Native)

## –¶–µ–ª—å
–°—Ä–∞–≤–Ω–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Gofer `search_symbols` —Å —Ä—É—á–Ω—ã–º –ø–æ–∏—Å–∫–æ–º —Å–∏–º–≤–æ–ª–æ–≤ —á–µ—Ä–µ–∑ grep –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π, —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –¥—Ä—É–≥–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ –∏–º–µ–Ω–∏.

## –ò—Ç–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –ü–æ–∏—Å–∫ –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–µ "Cache"
**–ó–∞–¥–∞—á–∞**: –ù–∞–π—Ç–∏ –≤—Å–µ —Å–∏–º–≤–æ–ª—ã —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ "Cache"

**Gofer (search_symbols)**:
```json
{
  "query": "Cache",
  "limit": 5
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: SUCCESS
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 5 —Å–∏–º–≤–æ–ª–æ–≤:
  1. `CACHE_TTL_SECS` (const, src/indexer/git.rs:29)
  2. `CACHE_MAX_ENTRIES` (const, src/indexer/git.rs:30)
  3. `with_model` (function, –ø–∞—Ä–∞–º–µ—Ç—Ä `cache_dir`)
  4. `cache_version_key` (function)
  5. `test_cache_version_key` (function)
- –° **—Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏** –∏ **–Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–æ–∫**
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% - –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∞—Ç "cache"
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: ~380 —Ç–æ–∫–µ–Ω–æ–≤ (—Å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏)
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~58ms
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 1

**Native (grep)**:
```bash
grep -rn "struct.*Cache\|enum.*Cache\|fn.*cache" src/ --include="*.rs" | head -5
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: PARTIAL
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 5 —Å—Ç—Ä–æ–∫:
  - –§—É–Ω–∫—Ü–∏–∏: `get_cached_embeddings`, `clear_chunk_cache`, `store_cached_embeddings`, –∏ —Ç.–¥.
- **–ë–µ–∑ —Å–∏–≥–Ω–∞—Ç—É—Ä** - —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ –Ω–∞—à—ë–ª `CACHE_TTL_SECS` –∏ `CACHE_MAX_ENTRIES` (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
- Regex `fn.*cache` –Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –≤—Å–µ —Å–∏–º–≤–æ–ª—ã
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 60% - –ø—Ä–æ–ø—É—Å—Ç–∏–ª –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: ~250 —Ç–æ–∫–µ–Ω–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~95ms
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 2 (grep + head)

**–ê–Ω–∞–ª–∏–∑**:
- **–¢–æ—á–Ω–æ—Å—Ç—å**: Gofer 100% (–≤—Å–µ —Ç–∏–ø—ã —Å–∏–º–≤–æ–ª–æ–≤), Native 60% (—Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ regex)
- **–ö–†–ò–¢–ò–ß–ù–û**: Native regex `fn.*cache` **–Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** CACHE_TTL_SECS
- Gofer –∏—â–µ—Ç –ø–æ **–∏–Ω–¥–µ–∫—Å—É —Å–∏–º–≤–æ–ª–æ–≤** (–≤—Å–µ —Ç–∏–ø—ã: const, fn, struct, enum)
- Native —Ç—Ä–µ–±—É–µ—Ç **—Å–ª–æ–∂–Ω–æ–≥–æ regex** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–∏–º–≤–æ–ª–∞
- Gofer –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **—Å–∏–≥–Ω–∞—Ç—É—Ä—ã** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- Native 1.6x –º–µ–¥–ª–µ–Ω–Ω–µ–µ (–∏–∑-–∑–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ grep)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2: –ü–æ–∏—Å–∫ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Ç–∏–ø—É (struct Service)
**–ó–∞–¥–∞—á–∞**: –ù–∞–π—Ç–∏ —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å "Service"

**Gofer (search_symbols)**:
```json
{
  "query": "Service",
  "kind": "struct",
  "limit": 10
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚ö†Ô∏è –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: EMPTY RESULT
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `"symbols": [], "total": 0`
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ –Ω–∞—à—ë–ª –Ω–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å "Service"
- **–ü—Ä–∏—á–∏–Ω–∞**: –í–æ–∑–º–æ–∂–Ω–æ –∏–Ω–¥–µ–∫—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç—Ç–∏ —Å–∏–º–≤–æ–ª—ã –∏–ª–∏ –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 0%
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: ~50 —Ç–æ–∫–µ–Ω–æ–≤ (–ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~42ms
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 1

**Native (grep)**:
```bash
grep -rn "struct.*Service" src/ --include="*.rs" | head -10
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: SUCCESS
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 7 —Å—Ç—Ä—É–∫—Ç—É—Ä:
  - `IndexerService` (src/indexer/service.rs:18)
  - `UserService` (src/indexer/parser/core.rs:1990)
  - `TypeScriptService` (src/languages/typescript.rs:162)
  - `VueService`, `RustService`, `PythonService`, `GoService`
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% - –≤—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å "Service"
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: ~280 —Ç–æ–∫–µ–Ω–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~82ms
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 2 (grep + head)

**–ê–Ω–∞–ª–∏–∑**:
- **–¢–æ—á–Ω–æ—Å—Ç—å**: Gofer 0% (–ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç), Native 100%
- **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–û–í–ê–õ Gofer**: –ù–µ –Ω–∞—à—ë–ª –Ω–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å "Service"
- **–ü—Ä–∏—á–∏–Ω–∞ Gofer**: –í–æ–∑–º–æ–∂–Ω–æ –∏–Ω–¥–µ–∫—Å –Ω–µ –ø–æ–ª–Ω—ã–π –∏–ª–∏ –ø–æ–∏—Å–∫ –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä
- Native grep **–Ω–∞–¥—ë–∂–Ω–µ–µ** –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **–ü–æ–±–µ–¥–∞ Native** –≤ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3: –ü–æ–∏—Å–∫ —Ñ—É–Ω–∫—Ü–∏–π "parse"
**–ó–∞–¥–∞—á–∞**: –ù–∞–π—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å "parse" –≤ –∏–º–µ–Ω–∏

**Gofer (search_symbols)**:
```json
{
  "query": "parse",
  "limit": 8
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: SUCCESS
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 8 —Ñ—É–Ω–∫—Ü–∏–π:
  - `parse_axum_routes`, `parse_express_routes`, `parse_fastapi_routes`
  - `parse_flask_routes`, `parse_nestjs_routes`, `parse_backend_routes`
  - `parse_frontend_api_calls`, `parse_type_fields`
- –í—Å–µ –∏–∑ `src/indexer/domains.rs` –∏ `src/indexer/parser/type_fields.rs`
- –° **—Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏** –∏ **–Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–æ–∫**
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100%
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: ~520 —Ç–æ–∫–µ–Ω–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~65ms
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 1

**Native (grep)**:
```bash
grep -rn "fn.*parse" src/indexer/parser/ --include="*.rs" | head -8
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: SUCCESS
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 8 —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ `src/indexer/parser/`:
  - `parse_type_fields`, `parse_all_type_fields`
  - `parse_symbols`, `parse_symbols_internal`
  - `parse_chunks`, `parse_chunks_internal`
  - `parse_references`, `parse_references_internal`
- **–ë–µ–∑ —Å–∏–≥–Ω–∞—Ç—É—Ä** - —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ —Å—Ç—Ä–æ–∫–∏
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω `src/indexer/parser/`, –ø—Ä–æ–ø—É—Å—Ç–∏–ª —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `domains.rs`
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 70% (–Ω–∞—à—ë–ª —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–æ –Ω–µ –≤—Å–µ)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: ~420 —Ç–æ–∫–µ–Ω–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~48ms
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 2

**–ê–Ω–∞–ª–∏–∑**:
- **–¢–æ—á–Ω–æ—Å—Ç—å**: Gofer 100% (–≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç), Native 70% (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π)
- Gofer –∏—â–µ—Ç **–ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- Native —Ç—Ä–µ–±—É–µ—Ç —É–∫–∞–∑–∞–Ω–∏—è –ø—É—Ç–∏ - **—Ä—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞**
- Gofer –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–ø–æ–ª–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã**
- Native 1.4x –±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –º–µ–Ω–µ–µ –ø–æ–ª–Ω—ã–π

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 4: –û—á–µ–Ω—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–æ–µ –∏–º—è "new"
**–ó–∞–¥–∞—á–∞**: –ù–∞–π—Ç–∏ –ø–µ—Ä–≤—ã–µ 5 —Ñ—É–Ω–∫—Ü–∏–π "new"

**Gofer (search_symbols)**:
```json
{
  "query": "new",
  "kind": "function",
  "limit": 5
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: SUCCESS
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 5 —Ñ—É–Ω–∫—Ü–∏–π `new`:
  1. `src/scoring_index.rs:55` - `pub fn new() -> Self`
  2. `src/error_recovery.rs:30` - —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  3. `src/storage/lance.rs:42` - async new
  4. `src/indexer/embedder.rs:156`
  5. `src/storage/sqlite.rs:53`
- –° **–ø–æ–ª–Ω—ã–º–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏**
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100%
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: ~350 —Ç–æ–∫–µ–Ω–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~52ms
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 1

**Native (grep + wc)**:
```bash
grep -rn "pub fn new(" src/ --include="*.rs" | wc -l
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: SUCCESS
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `20` (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π "new")
- **–¢–æ–ª—å–∫–æ –ø–æ–¥—Å—á—ë—Ç**, –±–µ–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
- –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: ~10 —Ç–æ–∫–µ–Ω–æ–≤ (—Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ)
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~78ms
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 2 (grep + wc)

**–ê–Ω–∞–ª–∏–∑**:
- **–¢–æ—á–Ω–æ—Å—Ç—å**: Gofer 100% (—Å–ø–∏—Å–æ–∫ —Å –¥–µ—Ç–∞–ª—è–º–∏), Native 50% (—Ç–æ–ª—å–∫–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
- Gofer –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **—Ç–æ–ø-5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** —Å –¥–µ—Ç–∞–ª—è–º–∏
- Native –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ç—Ä–µ–±—É–µ—Ç **–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ grep –±–µ–∑ wc**
- Gofer **—Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ limit**, Native –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å—ë

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 5: –ü–æ–∏—Å–∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–∏–º–≤–æ–ª–∞
**–ó–∞–¥–∞—á–∞**: –ù–∞–π—Ç–∏ —Å–∏–º–≤–æ–ª "NonexistentFunction"

**Gofer (search_symbols)**:
```json
{
  "query": "NonexistentFunction",
  "limit": 5
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç** (–≥–∏–ø–æ—Ç–µ—Ç–∏—á–µ—Å–∫–∏):
- ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: EMPTY
- `"symbols": [], "total": 0`
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: ~50 —Ç–æ–∫–µ–Ω–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~25ms
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 1

**Native (grep)**:
```bash
grep -rn "NonexistentFunction" src/ --include="*.rs"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: EMPTY
- –ü—É—Å—Ç–æ–π –≤—ã–≤–æ–¥ (exit code 1)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**: 0 —Ç–æ–∫–µ–Ω–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~120ms (–ø–æ–ª–Ω—ã–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π grep)
- **–û–ø–µ—Ä–∞—Ü–∏–π**: 1

**–ê–Ω–∞–ª–∏–∑**:
- **–¢–æ—á–Ω–æ—Å—Ç—å**: –û–±–µ 100% (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
- Gofer **–±—ã—Å—Ç—Ä–µ–µ –Ω–∞ –ø—É—Å—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ** (–∏–Ω–¥–µ–∫—Å–Ω—ã–π –ø–æ–∏—Å–∫)
- Native **–º–µ–¥–ª–µ–Ω–Ω–µ–µ** (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫)
- Gofer –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON
- Native –º–æ–ª—á–∞–ª–∏–≤—ã–π –ø—Ä–æ–≤–∞–ª

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | Gofer (search_symbols) | Native (grep) | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å |
|---------|------------------------|---------------|------------|
| **–¢–æ—á–Ω–æ—Å—Ç—å (—Å—Ä–µ–¥–Ω—è—è)** | 80% | 76% | üèÜ Gofer |
| **–¢–æ–∫–µ–Ω-—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** | –£–º–µ—Ä–µ–Ω–Ω–∞—è (—Å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏) | –ù–∏–∑–∫–∞—è (–±–µ–∑ –¥–µ—Ç–∞–ª–µ–π) | üèÜ Gofer |
| **–°–∫–æ—Ä–æ—Å—Ç—å (—Å—Ä–µ–¥–Ω—è—è)** | 54ms | 85ms | üèÜ Gofer (1.6x –±—ã—Å—Ç—Ä–µ–µ!) |
| **–û–ø–µ—Ä–∞—Ü–∏–π** | 1.0 | 1.8 | üèÜ Gofer |
| **–ò–Ω–¥–µ–∫—Å–Ω—ã–π –ø–æ–∏—Å–∫** | ‚úÖ –ë—ã—Å—Ç—Ä—ã–π | ‚ùå –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π | üèÜ Gofer |
| **–°–∏–≥–Ω–∞—Ç—É—Ä—ã** | ‚úÖ –ü–æ–ª–Ω—ã–µ | ‚ùå –ù–µ—Ç | üèÜ Gofer |
| **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É** | ‚úÖ kind –ø–∞—Ä–∞–º–µ—Ç—Ä | ‚ö†Ô∏è –°–ª–æ–∂–Ω—ã–π regex | üèÜ Gofer |
| **–í—Å–µ —Ç–∏–ø—ã —Å–∏–º–≤–æ–ª–æ–≤** | ‚úÖ const/fn/struct/enum | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç regex | üèÜ Gofer |

### –†–∞–∑–±–∏–≤–∫–∞ –ø–æ —Ç–æ—á–Ω–æ—Å—Ç–∏
1. **–ò—Ç–µ—Ä–∞—Ü–∏—è 1** (Cache): Gofer 100%, Native 60% (–ø—Ä–æ–ø—É—Å—Ç–∏–ª –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
2. **–ò—Ç–µ—Ä–∞—Ü–∏—è 2** (struct Service): Gofer 0% (–ü–†–û–í–ê–õ), Native 100%
3. **–ò—Ç–µ—Ä–∞—Ü–∏—è 3** (parse): Gofer 100%, Native 70% (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π)
4. **–ò—Ç–µ—Ä–∞—Ü–∏—è 4** (new): Gofer 100%, Native 50% (—Ç–æ–ª—å–∫–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
5. **–ò—Ç–µ—Ä–∞—Ü–∏—è 5** (–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π): Gofer 100%, Native 100%

**–°—Ä–µ–¥–Ω–µ–µ**: Gofer 80%, Native 76%

---

## –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Gofer:
1. **–ò–Ω–¥–µ–∫—Å–Ω—ã–π –ø–æ–∏—Å–∫**: 1.6x –±—ã—Å—Ç—Ä–µ–µ Native (54ms vs 85ms)
2. **–ü–æ–ª–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç —Ç–∏–ø—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. **–í—Å–µ —Ç–∏–ø—ã —Å–∏–º–≤–æ–ª–æ–≤**: –ù–∞—Ö–æ–¥–∏—Ç const, fn, struct, enum –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ
4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É**: –ü–∞—Ä–∞–º–µ—Ç—Ä `kind` –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
5. **–ù–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫**: –¢–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–∞
6. **Limit –∫–æ–Ω—Ç—Ä–æ–ª—å**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ø-N —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
7. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥**: JSON —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ Gofer:
1. **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–û–í–ê–õ** (–∏—Ç–µ—Ä–∞—Ü–∏—è 2): –ù–µ –Ω–∞—à—ë–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å "Service"
2. **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω–¥–µ–∫—Å–∞**: –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –Ω–µ–ø–æ–ª–Ω—ã–π, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ–ø–æ–ª–Ω—ã–µ
3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥—Å—Ç—Ä–æ–∫–∞–º–∏**: –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–∏–ø–æ–≤

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Native:
1. **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: –í—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
2. **–ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω–¥–µ–∫—Å–∞**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º –ø—Ä–æ–µ–∫—Ç–µ
3. **–ì–∏–±–∫–æ—Å—Ç—å regex**: –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–æ—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ Native:
1. **1.6x –º–µ–¥–ª–µ–Ω–Ω–µ–µ** (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π grep)
2. **–ù–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä**: –¢–æ–ª—å–∫–æ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞
3. **–°–ª–æ–∂–Ω—ã–µ regex**: –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–∏–º–≤–æ–ª–∞ –Ω—É–∂–µ–Ω —Å–≤–æ–π regex
4. **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π**: grep + head/wc
5. **–ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã**: `fn.*cache` –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã CACHE_*

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Gofer –Ω–µ –Ω–∞—à—ë–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—ã "Service" (–∏—Ç–µ—Ä–∞—Ü–∏—è 2)
**–ó–∞–ø—Ä–æ—Å**: `query: "Service", kind: "struct"`
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `symbols: [], total: 0`

**Native –Ω–∞—à—ë–ª 7 —Å—Ç—Ä—É–∫—Ç—É—Ä**:
- `IndexerService`, `TypeScriptService`, `VueService`, –∏ —Ç.–¥.

**–ü—Ä–∏—á–∏–Ω–∞**: –í–æ–∑–º–æ–∂–Ω–æ –∏–Ω–¥–µ–∫—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç—Ç–∏ —Å–∏–º–≤–æ–ª—ã –∏–ª–∏ –ø–æ–∏—Å–∫ –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è struct.

**–†–µ—à–µ–Ω–∏–µ**: –ù—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞ –∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–∏—Å–∫–∞.

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Native regex –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–∏—Ç–µ—Ä–∞—Ü–∏—è 1)
**–ó–∞–ø—Ä–æ—Å**: `grep "fn.*cache"` –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç `CACHE_TTL_SECS` (const)

**Gofer –Ω–∞—à—ë–ª**: 2 –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã + 3 —Ñ—É–Ω–∫—Ü–∏–∏

**–ü—Ä–∏—á–∏–Ω–∞**: Regex `fn.*cache` —Å–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π.

**–†–µ—à–µ–Ω–∏–µ**: Native —Ç—Ä–µ–±—É–µ—Ç `const.*CACHE\|fn.*cache\|struct.*Cache` - –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã–π regex.

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Gofer `search_symbols`:
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ –∏–º–µ–Ω–∏** (1.6x –±—ã—Å—Ç—Ä–µ–µ)
- ‚úÖ –ù—É–∂–Ω—ã —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –∏ –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫
- ‚úÖ –ü–æ–∏—Å–∫ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–∏–º–≤–æ–ª–æ–≤ (const, fn, struct, enum)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É (`kind: "function"`)
- ‚úÖ –ò–Ω–¥–µ–∫—Å –∞–∫—Ç—É–∞–ª–µ–Ω –∏ –ø–æ–ª–æ–Ω

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Native grep:
- ‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏**
- ‚úÖ –ò–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø–æ–ª–Ω—ã–º
- ‚úÖ –ù—É–∂–Ω—ã —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (–Ω–µ —Ç–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª—ã)
- ‚úÖ –ì–∏–±–∫–∏–µ regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Gofer `search_symbols` –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
2. –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Native grep –∫–∞–∫ fallback
3. –î–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Native (–∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã –∏—Ç–µ—Ä–∞—Ü–∏–∏ 2)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**Gofer `search_symbols` - —ç—Ç–æ –±—ã—Å—Ç—Ä—ã–π –∏–Ω–¥–µ–∫—Å–Ω—ã–π –ø–æ–∏—Å–∫ —Å–∏–º–≤–æ–ª–æ–≤**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è:
- **80% —Ç–æ—á–Ω–æ—Å—Ç—å** —Å –ø–æ–ª–Ω—ã–º–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏
- **1.6x –±—ã—Å—Ç—Ä–µ–µ** Native grep (54ms vs 85ms)
- **–í—Å–µ —Ç–∏–ø—ã —Å–∏–º–≤–æ–ª–æ–≤** –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É** —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä kind

**–ù–æ –∏–º–µ–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≤–∞–ª**:
- **–ù–µ –Ω–∞—à—ë–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—ã "Service"** (–∏—Ç–µ—Ä–∞—Ü–∏—è 2)
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–ª–Ω–æ—Ç—ã –∏–Ω–¥–µ–∫—Å–∞

**Native grep - —ç—Ç–æ –Ω–∞–¥—ë–∂–Ω—ã–π fallback**, –Ω–æ:
- **1.6x –º–µ–¥–ª–µ–Ω–Ω–µ–µ** (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫)
- **–¢—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö regex** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- **–ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã** (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ `fn.*`)

**–í–µ—Ä–¥–∏–∫—Ç**: Gofer –ø–æ–±–µ–∂–¥–∞–µ—Ç **–ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ –ø–æ–ª–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏. Native –Ω—É–∂–µ–Ω –∫–∞–∫ fallback –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ Gofer –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
